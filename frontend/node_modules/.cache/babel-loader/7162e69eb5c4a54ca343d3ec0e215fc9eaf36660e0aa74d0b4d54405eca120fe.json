{"ast":null,"code":"var _jsxFileName = \"E:\\\\Mobile_AI\\\\frontend\\\\src\\\\pages\\\\ProductDetail.js\",\n  _s = $RefreshSig$();\nimport { formatKES } from '../utils/currency';\nimport React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { useCart } from '../contexts/CartContext';\nimport api from '../services/api';\nimport './ProductDetail.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ProductDetail = () => {\n  _s();\n  var _product$images, _product$ratings, _product$ratings2, _product$reviews, _ref, _product$stockQuantit;\n  const {\n    id\n  } = useParams();\n  const navigate = useNavigate();\n  const {\n    addToCart\n  } = useCart();\n  const [product, setProduct] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [selectedImage, setSelectedImage] = useState(0);\n  const [quantity, setQuantity] = useState(1);\n  const [selectedVariant, setSelectedVariant] = useState(null);\n  const [relatedProducts, setRelatedProducts] = useState([]);\n  useEffect(() => {\n    fetchProduct();\n  }, [id]);\n  const fetchProduct = async () => {\n    try {\n      var _response$data, _prod$variants;\n      setLoading(true);\n      const response = await api.get(`/products/${id}`);\n      const prod = ((_response$data = response.data) === null || _response$data === void 0 ? void 0 : _response$data.product) || response.data; // backend returns { product }\n      setProduct(prod);\n      setSelectedVariant((prod === null || prod === void 0 ? void 0 : (_prod$variants = prod.variants) === null || _prod$variants === void 0 ? void 0 : _prod$variants[0]) || null);\n      if (prod !== null && prod !== void 0 && prod.category) {\n        fetchRelatedProducts(prod.category);\n      }\n    } catch (error) {\n      console.error('Error fetching product:', error);\n      navigate('/products');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const fetchRelatedProducts = async category => {\n    try {\n      var _response$data2;\n      const response = await api.get(`/products?category=${category}&limit=4`);\n      const list = ((_response$data2 = response.data) === null || _response$data2 === void 0 ? void 0 : _response$data2.products) || response.data || [];\n      setRelatedProducts(list.filter(p => p._id !== id));\n    } catch (error) {\n      console.error('Error fetching related products:', error);\n    }\n  };\n  const handleAddToCart = () => {\n    if (product) {\n      addToCart({\n        ...product,\n        variant: selectedVariant,\n        quantity\n      });\n      alert('Product added to cart!');\n    }\n  };\n  const handleBuyNow = () => {\n    handleAddToCart();\n    navigate('/cart');\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"product-detail-loading\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading-spinner\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Loading product details...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this);\n  }\n  if (!product) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"product-not-found\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Product not found\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => navigate('/products'),\n        children: \"Back to Products\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this);\n  }\n  const imageUrls = ((_product$images = product.images) === null || _product$images === void 0 ? void 0 : _product$images.map(img => img === null || img === void 0 ? void 0 : img.url).filter(Boolean)) || (product.image ? [product.image] : []);\n  const images = imageUrls.length > 0 ? imageUrls : ['https://via.placeholder.com/500x500?text=No+Image'];\n  const ratingAverage = ((_product$ratings = product.ratings) === null || _product$ratings === void 0 ? void 0 : _product$ratings.average) || 0;\n  const ratingCount = ((_product$ratings2 = product.ratings) === null || _product$ratings2 === void 0 ? void 0 : _product$ratings2.count) || ((_product$reviews = product.reviews) === null || _product$reviews === void 0 ? void 0 : _product$reviews.length) || 0;\n  const inStock = product.inStock !== undefined ? product.inStock : product.stockQuantity > 0;\n  const stockQty = (_ref = (_product$stockQuantit = product.stockQuantity) !== null && _product$stockQuantit !== void 0 ? _product$stockQuantit : product.stock) !== null && _ref !== void 0 ? _ref : 0;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"product-detail\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"breadcrumb\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => navigate('/products'),\n          children: \"Products\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"/\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: product.category\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"/\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: product.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"product-layout\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"product-images\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"main-image\",\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: images[selectedImage],\n              alt: product.name,\n              onError: e => {\n                e.target.src = 'https://via.placeholder.com/500x500?text=No+Image';\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"image-thumbnails\",\n            children: images.map((image, index) => /*#__PURE__*/_jsxDEV(\"img\", {\n              src: image,\n              alt: `${product.name} ${index + 1}`,\n              className: selectedImage === index ? 'active' : '',\n              onClick: () => setSelectedImage(index),\n              onError: e => {\n                e.target.src = 'https://via.placeholder.com/100x100?text=No+Image';\n              }\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"product-info\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"product-title\",\n            children: product.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"product-rating\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"stars\",\n              children: [...Array(5)].map((_, i) => /*#__PURE__*/_jsxDEV(\"span\", {\n                className: i < Math.round(ratingAverage) ? 'star filled' : 'star',\n                children: \"\\u2605\"\n              }, i, false, {\n                fileName: _jsxFileName,\n                lineNumber: 137,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 135,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"rating-text\",\n              children: [\"(\", ratingCount, \" reviews)\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 142,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"product-price\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"current-price\",\n              children: formatKES(product.price)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 15\n            }, this), product.originalPrice && product.originalPrice > product.price && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"original-price\",\n              children: formatKES(product.originalPrice)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 148,\n              columnNumber: 17\n            }, this), product.discount && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"discount-badge\",\n              children: [product.discount, \"% OFF\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 151,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"product-description\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: product.description\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 156,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 13\n          }, this), product.variants && product.variants.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"product-variants\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"Variants:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 161,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"variant-options\",\n              children: product.variants.map((variant, index) => /*#__PURE__*/_jsxDEV(\"button\", {\n                className: `variant-btn ${selectedVariant === variant ? 'active' : ''}`,\n                onClick: () => setSelectedVariant(variant),\n                children: variant.name || variant\n              }, index, false, {\n                fileName: _jsxFileName,\n                lineNumber: 164,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 162,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"product-quantity\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"Quantity:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 177,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"quantity-controls\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setQuantity(Math.max(1, quantity - 1)),\n                disabled: quantity <= 1,\n                children: \"-\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 179,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: quantity\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 185,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setQuantity(Math.min(stockQty || 1, quantity + 1)),\n                disabled: quantity >= stockQty,\n                children: \"+\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 186,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 178,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"stock-info\",\n              children: inStock ? `${stockQty} in stock` : 'Out of stock'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 193,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"product-actions\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"add-to-cart-btn\",\n              onClick: handleAddToCart,\n              disabled: !inStock,\n              children: \"Add to Cart\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 199,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"buy-now-btn\",\n              onClick: handleBuyNow,\n              disabled: !inStock,\n              children: \"Buy Now\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 206,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"product-features\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"Key Features:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 216,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n              children: product.features && product.features.length > 0 ? product.features.map((feature, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n                children: feature\n              }, index, false, {\n                fileName: _jsxFileName,\n                lineNumber: 220,\n                columnNumber: 21\n              }, this)) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                  children: \"High-quality materials\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 224,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: \"1-year warranty\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 225,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: \"Fast shipping\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 226,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 217,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 215,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }, this), relatedProducts.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"related-products\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Related Products\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"related-grid\",\n          children: relatedProducts.map(relatedProduct => {\n            var _relatedProduct$image, _relatedProduct$image2;\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"related-item\",\n              onClick: () => navigate(`/product/${relatedProduct._id}`),\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: ((_relatedProduct$image = relatedProduct.images) === null || _relatedProduct$image === void 0 ? void 0 : (_relatedProduct$image2 = _relatedProduct$image[0]) === null || _relatedProduct$image2 === void 0 ? void 0 : _relatedProduct$image2.url) || relatedProduct.image || 'https://via.placeholder.com/200x200?text=No+Image',\n                alt: relatedProduct.name,\n                onError: e => {\n                  e.target.src = 'https://via.placeholder.com/200x200?text=No+Image';\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 241,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n                children: relatedProduct.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 248,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: formatKES(relatedProduct.price)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 249,\n                columnNumber: 19\n              }, this)]\n            }, relatedProduct._id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 240,\n              columnNumber: 17\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 94,\n    columnNumber: 5\n  }, this);\n};\n_s(ProductDetail, \"+NbF/0olHgdfs+WXpiCFfEfZALk=\", false, function () {\n  return [useParams, useNavigate, useCart];\n});\n_c = ProductDetail;\nexport default ProductDetail;\nvar _c;\n$RefreshReg$(_c, \"ProductDetail\");","map":{"version":3,"names":["formatKES","React","useState","useEffect","useParams","useNavigate","useCart","api","jsxDEV","_jsxDEV","Fragment","_Fragment","ProductDetail","_s","_product$images","_product$ratings","_product$ratings2","_product$reviews","_ref","_product$stockQuantit","id","navigate","addToCart","product","setProduct","loading","setLoading","selectedImage","setSelectedImage","quantity","setQuantity","selectedVariant","setSelectedVariant","relatedProducts","setRelatedProducts","fetchProduct","_response$data","_prod$variants","response","get","prod","data","variants","category","fetchRelatedProducts","error","console","_response$data2","list","products","filter","p","_id","handleAddToCart","variant","alert","handleBuyNow","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","imageUrls","images","map","img","url","Boolean","image","length","ratingAverage","ratings","average","ratingCount","count","reviews","inStock","undefined","stockQuantity","stockQty","stock","name","src","alt","onError","e","target","index","Array","_","i","Math","round","price","originalPrice","discount","description","max","disabled","min","features","feature","relatedProduct","_relatedProduct$image","_relatedProduct$image2","_c","$RefreshReg$"],"sources":["E:/Mobile_AI/frontend/src/pages/ProductDetail.js"],"sourcesContent":["import { formatKES } from '../utils/currency';\r\nimport React, { useState, useEffect } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport { useCart } from '../contexts/CartContext';\r\nimport api from '../services/api';\r\nimport './ProductDetail.css';\r\n\r\nconst ProductDetail = () => {\r\n  const { id } = useParams();\r\n  const navigate = useNavigate();\r\n  const { addToCart } = useCart();\r\n  const [product, setProduct] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [selectedImage, setSelectedImage] = useState(0);\r\n  const [quantity, setQuantity] = useState(1);\r\n  const [selectedVariant, setSelectedVariant] = useState(null);\r\n  const [relatedProducts, setRelatedProducts] = useState([]);\r\n\r\n  useEffect(() => {\r\n    fetchProduct();\r\n  }, [id]);\r\n\r\n  const fetchProduct = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const response = await api.get(`/products/${id}`);\r\n      const prod = response.data?.product || response.data; // backend returns { product }\r\n      setProduct(prod);\r\n      setSelectedVariant(prod?.variants?.[0] || null);\r\n      if (prod?.category) {\r\n        fetchRelatedProducts(prod.category);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching product:', error);\r\n      navigate('/products');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const fetchRelatedProducts = async (category) => {\r\n    try {\r\n      const response = await api.get(`/products?category=${category}&limit=4`);\r\n      const list = response.data?.products || response.data || [];\r\n      setRelatedProducts(list.filter(p => p._id !== id));\r\n    } catch (error) {\r\n      console.error('Error fetching related products:', error);\r\n    }\r\n  };\r\n\r\n  const handleAddToCart = () => {\r\n    if (product) {\r\n      addToCart({\r\n        ...product,\r\n        variant: selectedVariant,\r\n        quantity\r\n      });\r\n      alert('Product added to cart!');\r\n    }\r\n  };\r\n\r\n  const handleBuyNow = () => {\r\n    handleAddToCart();\r\n    navigate('/cart');\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"product-detail-loading\">\r\n        <div className=\"loading-spinner\"></div>\r\n        <p>Loading product details...</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!product) {\r\n    return (\r\n      <div className=\"product-not-found\">\r\n        <h2>Product not found</h2>\r\n        <button onClick={() => navigate('/products')}>Back to Products</button>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const imageUrls = (product.images?.map(img => img?.url).filter(Boolean)) || (product.image ? [product.image] : []);\r\n  const images = imageUrls.length > 0 ? imageUrls : ['https://via.placeholder.com/500x500?text=No+Image'];\r\n\r\n  const ratingAverage = product.ratings?.average || 0;\r\n  const ratingCount = product.ratings?.count || product.reviews?.length || 0;\r\n  const inStock = product.inStock !== undefined ? product.inStock : (product.stockQuantity > 0);\r\n  const stockQty = product.stockQuantity ?? product.stock ?? 0;\r\n\r\n  return (\r\n    <div className=\"product-detail\">\r\n      <div className=\"container\">\r\n        <div className=\"breadcrumb\">\r\n          <button onClick={() => navigate('/products')}>Products</button>\r\n          <span>/</span>\r\n          <span>{product.category}</span>\r\n          <span>/</span>\r\n          <span>{product.name}</span>\r\n        </div>\r\n\r\n        <div className=\"product-layout\">\r\n          <div className=\"product-images\">\r\n            <div className=\"main-image\">\r\n              <img \r\n                src={images[selectedImage]} \r\n                alt={product.name}\r\n                onError={(e) => {\r\n                  e.target.src = 'https://via.placeholder.com/500x500?text=No+Image';\r\n                }}\r\n              />\r\n            </div>\r\n            <div className=\"image-thumbnails\">\r\n              {images.map((image, index) => (\r\n                <img\r\n                  key={index}\r\n                  src={image}\r\n                  alt={`${product.name} ${index + 1}`}\r\n                  className={selectedImage === index ? 'active' : ''}\r\n                  onClick={() => setSelectedImage(index)}\r\n                  onError={(e) => {\r\n                    e.target.src = 'https://via.placeholder.com/100x100?text=No+Image';\r\n                  }}\r\n                />\r\n              ))}\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"product-info\">\r\n            <h1 className=\"product-title\">{product.name}</h1>\r\n            \r\n            <div className=\"product-rating\">\r\n              <div className=\"stars\">\r\n                {[...Array(5)].map((_, i) => (\r\n                  <span key={i} className={i < Math.round(ratingAverage) ? 'star filled' : 'star'}>\r\n                    ★\r\n                  </span>\r\n                ))}\r\n              </div>\r\n              <span className=\"rating-text\">({ratingCount} reviews)</span>\r\n            </div>\r\n\r\n            <div className=\"product-price\">\r\n              <span className=\"current-price\">{formatKES(product.price)}</span>\r\n              {product.originalPrice && product.originalPrice > product.price && (\r\n                <span className=\"original-price\">{formatKES(product.originalPrice)}</span>\r\n              )}\r\n              {product.discount && (\r\n                <span className=\"discount-badge\">{product.discount}% OFF</span>\r\n              )}\r\n            </div>\r\n\r\n            <div className=\"product-description\">\r\n              <p>{product.description}</p>\r\n            </div>\r\n\r\n            {product.variants && product.variants.length > 0 && (\r\n              <div className=\"product-variants\">\r\n                <h3>Variants:</h3>\r\n                <div className=\"variant-options\">\r\n                  {product.variants.map((variant, index) => (\r\n                    <button\r\n                      key={index}\r\n                      className={`variant-btn ${selectedVariant === variant ? 'active' : ''}`}\r\n                      onClick={() => setSelectedVariant(variant)}\r\n                    >\r\n                      {variant.name || variant}\r\n                    </button>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            <div className=\"product-quantity\">\r\n              <h3>Quantity:</h3>\r\n              <div className=\"quantity-controls\">\r\n                <button \r\n                  onClick={() => setQuantity(Math.max(1, quantity - 1))}\r\n                  disabled={quantity <= 1}\r\n                >\r\n                  -\r\n                </button>\r\n                <span>{quantity}</span>\r\n                <button \r\n                  onClick={() => setQuantity(Math.min((stockQty || 1), quantity + 1))}\r\n                  disabled={quantity >= stockQty}\r\n                >\r\n                  +\r\n                </button>\r\n              </div>\r\n              <span className=\"stock-info\">\r\n                {inStock ? `${stockQty} in stock` : 'Out of stock'}\r\n              </span>\r\n            </div>\r\n\r\n            <div className=\"product-actions\">\r\n              <button \r\n                className=\"add-to-cart-btn\"\r\n                onClick={handleAddToCart}\r\n                disabled={!inStock}\r\n              >\r\n                Add to Cart\r\n              </button>\r\n              <button \r\n                className=\"buy-now-btn\"\r\n                onClick={handleBuyNow}\r\n                disabled={!inStock}\r\n              >\r\n                Buy Now\r\n              </button>\r\n            </div>\r\n\r\n            <div className=\"product-features\">\r\n              <h3>Key Features:</h3>\r\n              <ul>\r\n                {(product.features && product.features.length > 0) ? (\r\n                  product.features.map((feature, index) => (\r\n                    <li key={index}>{feature}</li>\r\n                  ))\r\n                ) : (\r\n                  <>\r\n                    <li>High-quality materials</li>\r\n                    <li>1-year warranty</li>\r\n                    <li>Fast shipping</li>\r\n                  </>\r\n                )}\r\n                \r\n              </ul>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {relatedProducts.length > 0 && (\r\n          <div className=\"related-products\">\r\n            <h2>Related Products</h2>\r\n            <div className=\"related-grid\">\r\n              {relatedProducts.map(relatedProduct => (\r\n                <div key={relatedProduct._id} className=\"related-item\" onClick={() => navigate(`/product/${relatedProduct._id}`)}>\r\n                  <img \r\n                    src={relatedProduct.images?.[0]?.url || relatedProduct.image || 'https://via.placeholder.com/200x200?text=No+Image'} \r\n                    alt={relatedProduct.name}\r\n                    onError={(e) => {\r\n                      e.target.src = 'https://via.placeholder.com/200x200?text=No+Image';\r\n                    }}\r\n                  />\r\n                  <h4>{relatedProduct.name}</h4>\r\n                  <p>{formatKES(relatedProduct.price)}</p>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProductDetail;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}